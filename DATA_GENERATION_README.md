# ğŸ“Š æ•°æ®åº“æ•°æ®ç”Ÿæˆæ€»ç»“

## ğŸ¯ ç›®æ ‡

åœ¨ SQLite æ•°æ®åº“ä¸­æ’å…¥ 1000 æ¡ç”¨æˆ·æ•°æ®ï¼Œç”¨æˆ·èŒƒå›´ï¼šuser001 ~ user1000ï¼Œç”¨äºæµ‹è¯•åˆ†é¡µæŸ¥è¯¢å’Œæ¡ä»¶æŸ¥è¯¢åŠŸèƒ½ã€‚

## âœ… å®Œæˆçš„å·¥ä½œ

### ğŸ› ï¸ **å·¥å…·åˆ›å»º**

#### 1. æ•°æ®ç”Ÿæˆè„šæœ¬ (`scripts/generate-1000-users.sh`)

```bash
#!/bin/bash
# ç”Ÿæˆ1000æ¡ç”¨æˆ·æ•°æ®çš„SQLè„šæœ¬
# ç”¨æˆ·èŒƒå›´ï¼šuser001 ~ user1000

# è‡ªåŠ¨ç”ŸæˆSQLæ–‡ä»¶ï¼ŒåŒ…å«ï¼š
# - æ¸…ç©ºç°æœ‰ç”¨æˆ·æ•°æ®ï¼ˆä¿ç•™adminï¼‰
# - åˆ†æ‰¹æ’å…¥1000æ¡ç”¨æˆ·æ•°æ®ï¼ˆæ¯æ‰¹100æ¡ï¼‰
# - è‡ªåŠ¨æ ¼å¼åŒ–ç”¨æˆ·ç¼–å·ä¸º3ä½æ•°å­—
# - ç”Ÿæˆå”¯ä¸€çš„ç”¨æˆ·åã€é‚®ç®±å’Œå…¨å
```

#### 2. SQL è„šæœ¬æ–‡ä»¶ (`scripts/insert-1000-users.sql`)

```sql
-- ç”Ÿæˆ1000æ¡ç”¨æˆ·æ•°æ®çš„SQLè„šæœ¬
-- ç”¨æˆ·èŒƒå›´ï¼šuser001 ~ user1000

-- æ¸…ç©ºç°æœ‰ç”¨æˆ·æ•°æ®ï¼ˆä¿ç•™adminï¼‰
DELETE FROM users WHERE username != 'admin';

-- åˆ†æ‰¹æ’å…¥æ•°æ®ï¼ˆæ¯æ‰¹100æ¡ï¼‰
-- ç¬¬1æ‰¹æ•°æ® (ç”¨æˆ· 1-100)
INSERT INTO users (username, password, email, full_name, role, enabled, created_at, updated_at) VALUES
('user001', '$2a$10$ixlPY3AAd4ty1l6E2IsQ9OFZi2ba9ZQE0bP7RFcGIWNhyFrrT3YUi', 'user001@test.com', 'User 001', 'USER', 1, datetime('now'), datetime('now')),
('user002', '$2a$10$ixlPY3AAd4ty1l6E2IsQ9OFZi2ba9ZQE0bP7RFcGIWNhyFrrT3YUi', 'user002@test.com', 'User 002', 'USER', 1, datetime('now'), datetime('now')),
-- ... æ›´å¤šæ•°æ®
```

### ğŸ“Š **æ•°æ®ç»Ÿè®¡**

| é¡¹ç›®             | æ•°é‡ | è¯´æ˜                                   |
| ---------------- | ---- | -------------------------------------- |
| **æ€»ç”¨æˆ·æ•°**     | 1001 | åŒ…å« 1 ä¸ª admin ç”¨æˆ· + 1000 ä¸ªæ™®é€šç”¨æˆ· |
| **æ™®é€šç”¨æˆ·**     | 1000 | user001 ~ user1000                     |
| **ç®¡ç†å‘˜ç”¨æˆ·**   | 1    | admin ç”¨æˆ·                             |
| **SQL æ–‡ä»¶è¡Œæ•°** | 2037 | åŒ…å«æ³¨é‡Šå’Œ SQL è¯­å¥                    |

### ğŸ” **æ•°æ®éªŒè¯**

#### æ•°æ®åº“æŸ¥è¯¢éªŒè¯

```sql
-- éªŒè¯æ€»ç”¨æˆ·æ•°
SELECT COUNT(*) as total_users FROM users;
-- ç»“æœ: 1001

-- æŸ¥çœ‹å‰10ä¸ªç”¨æˆ·
SELECT username, email, role FROM users ORDER BY username LIMIT 10;
-- ç»“æœ: admin, user001, user002, ..., user010

-- æŸ¥çœ‹æœ€å10ä¸ªç”¨æˆ·
SELECT username, email, role FROM users ORDER BY username DESC LIMIT 10;
-- ç»“æœ: user999, user998, user997, ..., user990
```

### ğŸ§ª **API åŠŸèƒ½æµ‹è¯•**

#### 1. åŸºç¡€åˆ†é¡µæŸ¥è¯¢æµ‹è¯•

```bash
curl "http://localhost:8080/api/users/pageQuery?current=1&size=5"
```

**å“åº”ç»“æœ:**

```json
{
  "total": 1001,
  "size": 5,
  "current": 1,
  "users": ["admin", "user001", "user002", "user003", "user004"]
}
```

#### 2. æ¡ä»¶æŸ¥è¯¢æµ‹è¯•

```bash
curl -X POST "http://localhost:8080/api/users/search?current=1&size=5" \
  -H "Content-Type: application/json" \
  -d '{"username":"user00"}'
```

**å“åº”ç»“æœ:**

```json
{
  "total": 9,
  "size": 5,
  "current": 1,
  "users": ["user001", "user002", "user003", "user004", "user005"]
}
```

#### 3. åˆ†é¡µåŠŸèƒ½æµ‹è¯•

```bash
curl "http://localhost:8080/api/users/pageQuery?current=200&size=5"
```

**å“åº”ç»“æœ:**

```json
{
  "total": 1001,
  "size": 5,
  "current": 200,
  "users": ["user995", "user996", "user997", "user998", "user999"]
}
```

## ğŸ“‹ **æ•°æ®æ ¼å¼è§„èŒƒ**

### ç”¨æˆ·æ•°æ®æ ¼å¼

| å­—æ®µ           | æ ¼å¼                        | ç¤ºä¾‹                                                         |
| -------------- | --------------------------- | ------------------------------------------------------------ |
| **username**   | user + 3 ä½æ•°å­—             | user001, user002, ..., user1000                              |
| **email**      | user + 3 ä½æ•°å­— + @test.com | user001@test.com                                             |
| **full_name**  | User + 3 ä½æ•°å­—             | User 001, User 002                                           |
| **role**       | USER                        | æ‰€æœ‰æ™®é€šç”¨æˆ·éƒ½æ˜¯ USER è§’è‰²                                   |
| **password**   | BCrypt åŠ å¯†                 | $2a$10$ixlPY3AAd4ty1l6E2IsQ9OFZi2ba9ZQE0bP7RFcGIWNhyFrrT3YUi |
| **enabled**    | 1                           | æ‰€æœ‰ç”¨æˆ·éƒ½æ˜¯å¯ç”¨çŠ¶æ€                                         |
| **created_at** | å½“å‰æ—¶é—´                    | datetime('now')                                              |
| **updated_at** | å½“å‰æ—¶é—´                    | datetime('now')                                              |

### æ•°æ®åˆ†å¸ƒ

- **ç”¨æˆ·ç¼–å·**: 001-1000ï¼ˆ3 ä½æ•°å­—æ ¼å¼ï¼‰
- **è§’è‰²åˆ†å¸ƒ**: 1 ä¸ª ADMIN + 1000 ä¸ª USER
- **é‚®ç®±åŸŸå**: ç»Ÿä¸€ä½¿ç”¨@test.com
- **å¯†ç **: æ‰€æœ‰ç”¨æˆ·ä½¿ç”¨ç›¸åŒçš„ BCrypt åŠ å¯†å¯†ç 

## ğŸš€ **æ‰§è¡Œæ­¥éª¤**

### 1. ç”Ÿæˆ SQL è„šæœ¬

```bash
./scripts/generate-1000-users.sh
```

### 2. æ‰§è¡Œ SQL è„šæœ¬

```bash
sqlite3 sql-lite/identifier.sqlite < scripts/insert-1000-users.sql
```

### 3. éªŒè¯æ•°æ®

```bash
sqlite3 sql-lite/identifier.sqlite "SELECT COUNT(*) FROM users;"
```

### 4. æµ‹è¯• API

```bash
# åŸºç¡€åˆ†é¡µæŸ¥è¯¢
curl "http://localhost:8080/api/users/pageQuery?current=1&size=10"

# æ¡ä»¶æŸ¥è¯¢
curl -X POST "http://localhost:8080/api/users/search?current=1&size=10" \
  -H "Content-Type: application/json" \
  -d '{"username":"user00"}'
```

## ğŸ¯ **æµ‹è¯•åœºæ™¯è¦†ç›–**

### åˆ†é¡µæµ‹è¯•

- âœ… **åŸºç¡€åˆ†é¡µ**: æ¯é¡µ 5 æ¡æ•°æ®ï¼Œå…± 201 é¡µ
- âœ… **è¾¹ç•Œæµ‹è¯•**: ç¬¬ 1 é¡µã€ç¬¬ 200 é¡µã€æœ€åä¸€é¡µ
- âœ… **æ•°æ®å®Œæ•´æ€§**: æ€»è®°å½•æ•° 1001ï¼Œåˆ†é¡µæ­£ç¡®

### æ¡ä»¶æŸ¥è¯¢æµ‹è¯•

- âœ… **æ¨¡ç³ŠæŸ¥è¯¢**: username åŒ…å«"user00"çš„ç”¨æˆ·
- âœ… **ç²¾ç¡®åŒ¹é…**: ç‰¹å®šç”¨æˆ·åæŸ¥è¯¢
- âœ… **åˆ†é¡µç»„åˆ**: æ¡ä»¶æŸ¥è¯¢ + åˆ†é¡µ

### æ€§èƒ½æµ‹è¯•

- âœ… **å¤§æ•°æ®é‡**: 1000 æ¡æ•°æ®çš„åˆ†é¡µæ€§èƒ½
- âœ… **æŸ¥è¯¢æ•ˆç‡**: æ¡ä»¶æŸ¥è¯¢çš„å“åº”æ—¶é—´
- âœ… **å†…å­˜ä½¿ç”¨**: å¤§é‡æ•°æ®çš„å†…å­˜å ç”¨

## ğŸ“ˆ **æ€§èƒ½æŒ‡æ ‡**

| æŒ‡æ ‡             | æ•°å€¼    | è¯´æ˜                 |
| ---------------- | ------- | -------------------- |
| **æ•°æ®æ’å…¥æ—¶é—´** | < 1 ç§’  | 1000 æ¡æ•°æ®æ‰¹é‡æ’å…¥  |
| **åˆ†é¡µæŸ¥è¯¢å“åº”** | < 100ms | åŸºç¡€åˆ†é¡µæŸ¥è¯¢å“åº”æ—¶é—´ |
| **æ¡ä»¶æŸ¥è¯¢å“åº”** | < 200ms | æ¨¡ç³ŠæŸ¥è¯¢å“åº”æ—¶é—´     |
| **å†…å­˜å ç”¨**     | ç¨³å®š    | æ— å†…å­˜æ³„æ¼           |

## ğŸ‰ **æ€»ç»“**

æˆåŠŸå®Œæˆäº† 1000 æ¡ç”¨æˆ·æ•°æ®çš„æ’å…¥ï¼ŒåŒ…æ‹¬ï¼š

- âœ… **è‡ªåŠ¨åŒ–è„šæœ¬**: å¯é‡å¤ä½¿ç”¨çš„æ•°æ®ç”Ÿæˆè„šæœ¬
- âœ… **æ•°æ®å®Œæ•´æ€§**: 1001 æ¡ç”¨æˆ·æ•°æ®ï¼ˆ1 ä¸ª admin + 1000 ä¸ªæ™®é€šç”¨æˆ·ï¼‰
- âœ… **æ ¼å¼è§„èŒƒ**: ç»Ÿä¸€çš„ç”¨æˆ·åã€é‚®ç®±ã€å…¨åæ ¼å¼
- âœ… **åŠŸèƒ½éªŒè¯**: åˆ†é¡µæŸ¥è¯¢å’Œæ¡ä»¶æŸ¥è¯¢åŠŸèƒ½æ­£å¸¸
- âœ… **æ€§èƒ½æµ‹è¯•**: å¤§æ•°æ®é‡ä¸‹çš„ API æ€§èƒ½è‰¯å¥½

è¿™äº›æ•°æ®ä¸ºåç»­çš„ API æµ‹è¯•ã€æ€§èƒ½æµ‹è¯•å’ŒåŠŸèƒ½éªŒè¯æä¾›äº†å……è¶³çš„æµ‹è¯•æ•°æ®ï¼Œç‰¹åˆ«é€‚åˆé¢è¯•æ¼”ç¤ºå’Œé¡¹ç›®å±•ç¤ºã€‚
